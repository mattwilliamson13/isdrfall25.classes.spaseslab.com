<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.33">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Introducing your Data – Intro to Spatial Data in R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="..//files/iSDR_logo.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-20e1c2340d6ef20406948785740699ce.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<meta property="og:title" content="Introducing your Data – Intro to Spatial Data in R">
<meta property="og:description" content="Use R to load, visualize, and analyze spatial data">
<meta property="og:image" content="https://isdrfall25.classes.spaseslab.com/files/social-image-f22.png">
<meta property="og:site_name" content="Intro to Spatial Data in R">
<meta property="og:locale" content="en_US">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Intro to Spatial Data in R</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../syllabus.html"> 
<span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../schedule.html"> 
<span class="menu-text">Schedule</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../content/index.html"> 
<span class="menu-text">Content</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../assignment/index.html"> 
<span class="menu-text">Assignments</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../example/index.html"> 
<span class="menu-text">Examples</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../lesson/index.html"> 
<span class="menu-text">Lessons</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../resource/index.html"> 
<span class="menu-text">Resources</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://ecostatsbsu.slack.com/archives/CV4DEJ8M7"> <i class="bi bi-slack" role="img" aria-label="Slack">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/BSU-Spatial-Data-in-R-Fall2025"> <i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://rstudio.apps.aws.boisestate.edu/"> <i class="bi bi-cloud-fill" role="img" aria-label="Rstudio">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#objectives" id="toc-objectives" class="nav-link active" data-scroll-target="#objectives">Objectives</a></li>
  <li><a href="#a-note-about-project-management" id="toc-a-note-about-project-management" class="nav-link" data-scroll-target="#a-note-about-project-management">A Note about Project Management</a>
  <ul class="collapse">
  <li><a href="#lets-load-some-packages" id="toc-lets-load-some-packages" class="nav-link" data-scroll-target="#lets-load-some-packages">Let’s load some packages</a></li>
  <li><a href="#common-sources-of-data" id="toc-common-sources-of-data" class="nav-link" data-scroll-target="#common-sources-of-data">Common Sources of Data</a></li>
  <li><a href="#checking-yourself-or-at-least-r" id="toc-checking-yourself-or-at-least-r" class="nav-link" data-scroll-target="#checking-yourself-or-at-least-r">Checking yourself (or at least <code>R</code>)</a></li>
  <li><a href="#exploring-your-new-data" id="toc-exploring-your-new-data" class="nav-link" data-scroll-target="#exploring-your-new-data">Exploring your new data</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Introducing your Data</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="objectives" class="level2">
<h2 class="anchored" data-anchor-id="objectives">Objectives</h2>
<ol type="1">
<li>Practice getting data into <code>R</code> from different sources</li>
<li>Learn to identify common import errors</li>
<li>Generate summaries of imported data</li>
</ol>
</section>
<section id="a-note-about-project-management" class="level2">
<h2 class="anchored" data-anchor-id="a-note-about-project-management">A Note about Project Management</h2>
<p>You’ll notice that every repository we use for assignments in this class has a set folder structure (with <code>data</code>, <code>docs</code>, etc.). This helps ensure that once anyone has cloned the repository all of the paths to files, code, etc will be the same regardless of who’s running the code. For this lesson, we’ll be working within the <code>data</code> folder. You’ll notice that within the <code>data</code> folder, there is a subfolder for <code>original</code> and one for <code>processed</code>. <strong>The <code>original</code> folder is reserved for unmodified data.</strong> This could be your initial spreadsheet of data, the version of a dataset that you downloaded for an analysis, or any other file that you will eventually modify for your analysis. If you make any changes (rename variables, filter observations, modify values), those changes should be saved to an object in the <code>processed</code> folder</p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>For your analysis to be reproducible, any filtering, cleaning, or modification of that original data should be documented in your scripts or Quarto document and the outputs stored in the <code>processed</code> folder.</p>
</div>
</div>
<section id="lets-load-some-packages" class="level3">
<h3 class="anchored" data-anchor-id="lets-load-some-packages">Let’s load some packages</h3>
<p>Before you get too far into this, it’s a good idea to load all of your packages.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.5.2     ✔ tibble    3.3.0
✔ lubridate 1.9.4     ✔ tidyr     1.3.1
✔ purrr     1.0.4     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tigris)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>To enable caching of data, set `options(tigris_use_cache = TRUE)`
in your R script or .Rprofile.</code></pre>
</div>
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Linking to GEOS 3.13.0, GDAL 3.8.5, PROJ 9.5.1; sf_use_s2() is TRUE</code></pre>
</div>
</div>
</section>
<section id="common-sources-of-data" class="level3">
<h3 class="anchored" data-anchor-id="common-sources-of-data">Common Sources of Data</h3>
<p>There are, in general, three types of data that you will encounter that meet our <code>original</code> data criteria. Data you’ve collected, data you’ve downloaded from somehere else, or data you’ve accessed via a package.</p>
<section id="its-yours" class="level4">
<h4 class="anchored" data-anchor-id="its-yours">It’s yours!</h4>
<p>So far, this is the type of data that most students bring into class. It’s usually some sort of spreadsheet that contains all of that hard-earned field data. Although there are <code>R</code> packages for dealing with Microsoft Excel spreadsheets, we won’t focus on those for two reasons: 1) Excel is a proprietary software and so may not be available to all users and 2) Excel makes a lot of formatting choices for you that may not actually be helpful in your analysis.</p>
<p>Instead, we’ll focus on a more general idea, the “delimited” text file. A delimited text file is flat (i.e., there’s only one “sheet”) and uses a consistent character (like a <code>,</code> or a <code>tab</code>) to denote when column breaks should occur. Delimited text files can be created and read in a variety of free software making them more accessible to others. It’s also a fairly trivial exercise to save an Excel spreadsheet into a <code>.csv</code>.</p>
<p>There are a variety of functions in base <code>R</code> that will read delimited files (<code>read.csv</code>, <code>read.table</code>, and <code>read.delim</code> are just a few examples), but we’re going to use the <code>readr</code> package from the <code>tidyverse</code> because it will help you get used to some of the <code>tidyverse</code> conventions and because it automates more of the data import process.</p>
<p>We’ll talk more about the <code>tidyverse</code> next week, but for the time being it’s worth knowing that the general structure of <code>tidyverse</code> functions is to combine a <code>verb</code> with and <code>object</code>. So in order to read a delimited file, we might use the <code>read_delim()</code> function where <code>read</code> is the <code>verb</code> and <code>delim</code> is the <code>object</code></p>
<p>For this example, I’ve downloaded a file from the <a href="www.fec.gov">Federal Elections Committee</a> depicting the campaign contributions to one of our Congressman in the 2025-2026 fiscal year. It’s located in your <code>data/original</code> folder. You can read it into your environment using <code>read_delim</code> and specifying a <code>,</code> for the <code>delim</code> argument (if you have tab delimited <code>.txt</code> file you would use <code>\\t</code>). Because we’ll want to look at this data later, I’m assigning it to an object called <code>election_data</code> using the assignment operator <code>&lt;-</code>. If you look at the help file for <code>read_delim</code> (by typing <code>?read_delim</code>), you’ll see that there are a variety of other options (like <code>read_csv</code> or <code>read_tsv</code>) that allow you to eliminate specifying the <code>delim</code> argument. I’ll demonstrate that here, too.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>election_data_1 <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(<span class="st">"data/original/fec_reciepts.csv"</span>, </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>                            <span class="at">delim =</span> <span class="st">","</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 233 Columns: 78
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (40): committee_id, committee_name, report_type, filing_form, line_numb...
dbl   (9): report_year, image_number, link_id, file_number, contribution_rec...
lgl  (27): contributor_prefix, recipient_committee_org_type, is_individual, ...
dttm  (2): contribution_receipt_date, load_date

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>election_data_2 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/original/fec_reciepts.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 233 Columns: 78
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (40): committee_id, committee_name, report_type, filing_form, line_numb...
dbl   (9): report_year, image_number, link_id, file_number, contribution_rec...
lgl  (27): contributor_prefix, recipient_committee_org_type, is_individual, ...
dttm  (2): contribution_receipt_date, load_date

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
</div>
<p><strong>A Note About Parsing</strong></p>
<p>You’ll notice that both <code>read_</code> functions return a bit of output telling you the names and <a href="../resource/dataclasses.html">data types</a> of each column in the dataset. This is one of the features of using <code>readr::read_</code> - it attempts to guess what datatype each column should be based on the value you give to the <code>guess_max</code> argument. You can see from the helpfile that the default value for guess_max is <code>min(1000, n_max)</code> meaning that it will look at the first <code>n_max</code> or 1000 rows, whichever is smaller. This can be helpful for large datasets, but it can also introduce some challenges as the different versions of <code>read_</code> assign column types a little differently. You can see this by running:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">identical</span>(election_data_1, election_data_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">all.equal</span>(election_data_1, election_data_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p>Despite the fact that the two objects were created from exactly the same file, <code>identical</code> returns <code>FALSE</code> while <code>all.equal</code> returns <code>TRUE</code>. This is an indication that while the data is exactly the same between both objects, there is something a little different about how <code>R</code> is storing the objects (<code>identical</code> is very strict). We don’t need to worry about that now, but I’m pointing it out as you may run into places where this causes errors that are difficult to interpret. For now, we’ll just be excited that the data is in <code>R</code>!</p>
</section>
<section id="you-download-it" class="level4">
<h4 class="anchored" data-anchor-id="you-download-it">You download it</h4>
<p>Occasionally, you’ll find data that is directly downloadable from a webpage (meaning the webaddress points directly to a <code>.csv</code> or <code>.txt</code> file). When that’s the case, you can still use the <code>read_</code> functions to download and assign the data to an object. Like this:</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>election_data_web <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://raw.githubusercontent.com/BSU-Spatial-Data-In-R-Fall2025/inclass-04/refs/heads/main/data/original/fec_reciepts.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 233 Columns: 78
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (40): committee_id, committee_name, report_type, filing_form, line_numb...
dbl   (9): report_year, image_number, link_id, file_number, contribution_rec...
lgl  (27): contributor_prefix, recipient_committee_org_type, is_individual, ...
dttm  (2): contribution_receipt_date, load_date

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>When you call the webpage inside of <code>read_</code> the data is not automatically saved. If you’ve assigned it to an object (like <code>election_data_web</code>) it will be stored there until you decide to save it (which we’ll do next week). If you haven’t assigned it to an object, the data will just be printed to the screen.</p>
</div>
</div>
<p>There are more complicated workflows for <code>.zip</code> files (using <code>download.file</code>) or Google Drive files (using the <code>googledrive</code> package) which we’ll introduce later in the course. Those approaches add a bit more syntax on the front-end to get the file into your <code>data/original</code> folder, but after that the <code>read_</code> step is the same.</p>
<p>The more common way of downloading data from the web is via Application Programming Interfaces (APIs). Although there are lots of APIs in the world, the typical application for getting data is a web-service that expects a particular set of inputs and then returns (possibly for download) a set of outputs matching your query. For example, the US Census has an API that allows you to access all of the Decennial Census and American Community Survey data by providing the state, county, year, and dataset that your are interested in. There are a lot of <code>R</code> packages designed to make these API calls easier. For example, the <code>tidycensus</code> package in <code>R</code> allows easy downloading of Census data, the <code>FedData</code> package allows you to download a variety of federally created spatial datasets, and the <code>elevatr</code> package allows easy download of global elevation datasets. We’ll explore these more in the future, but for now, we’ll use a simple example with the <code>tigris</code> package. The <code>tigris</code> package is a means of accessing the US TIGER (Topologically Integrated Geographic and Referencing System) files. The TIGER datsets contains US roads, state and county boundaries, and a variety of other data related to the US Census. Here’s a simple bit of code to download Idaho county boundaries.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>id_counties <span class="ot">&lt;-</span> <span class="fu">counties</span>(<span class="at">state=</span><span class="st">"ID"</span>, <span class="at">year =</span> <span class="dv">2024</span>, <span class="at">progress_bar =</span> <span class="cn">FALSE</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>id_counties</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Simple feature collection with 44 features and 18 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: -117.243 ymin: 41.98818 xmax: -111.0435 ymax: 49.00085
Geodetic CRS:  NAD83
First 10 features:
    STATEFP COUNTYFP COUNTYNS GEOID        GEOIDFQ       NAME          NAMELSAD
63       16      051 00399751 16051 0500000US16051  Jefferson  Jefferson County
150      16      055 00395661 16055 0500000US16055   Kootenai   Kootenai County
190      16      045 00395442 16045 0500000US16045        Gem        Gem County
228      16      041 00395585 16041 0500000US16041   Franklin   Franklin County
234      16      065 00394803 16065 0500000US16065    Madison    Madison County
258      16      033 00399755 16033 0500000US16033      Clark      Clark County
306      16      053 00395662 16053 0500000US16053     Jerome     Jerome County
309      16      037 00399758 16037 0500000US16037     Custer     Custer County
457      16      019 00395407 16019 0500000US16019 Bonneville Bonneville County
574      16      049 00395699 16049 0500000US16049      Idaho      Idaho County
    LSAD CLASSFP MTFCC CSAFP CBSAFP METDIVFP FUNCSTAT       ALAND    AWATER
63    06      H1 G4020   292  26820     &lt;NA&gt;        A  2832619467  31166194
150   06      H1 G4020   518  17660     &lt;NA&gt;        A  3205836476 184444918
190   06      H1 G4020   147  14260     &lt;NA&gt;        A  1449806864  12481361
228   06      H1 G4020  &lt;NA&gt;  30860     &lt;NA&gt;        A  1717211138  12153472
234   06      H1 G4020   292  39940     &lt;NA&gt;        A  1215396274  10500950
258   06      H1 G4020  &lt;NA&gt;   &lt;NA&gt;     &lt;NA&gt;        A  4566524479   2476453
306   06      H1 G4020  &lt;NA&gt;  46300     &lt;NA&gt;        A  1547629732  12908802
309   06      H1 G4020  &lt;NA&gt;   &lt;NA&gt;     &lt;NA&gt;        A 12748378762  42527190
457   06      H1 G4020   292  26820     &lt;NA&gt;        A  4832814957  88912977
574   06      H1 G4020  &lt;NA&gt;   &lt;NA&gt;     &lt;NA&gt;        A 21956620663  67532942
       INTPTLAT     INTPTLON                       geometry
63  +43.7969649 -112.3185879 MULTIPOLYGON (((-111.8045 4...
150 +47.6759569 -116.6959192 MULTIPOLYGON (((-117.0423 4...
190 +44.0614727 -116.3987839 MULTIPOLYGON (((-116.7124 4...
228 +42.1736093 -111.8229653 MULTIPOLYGON (((-111.9336 4...
234 +43.7886140 -111.6569925 MULTIPOLYGON (((-111.9835 4...
258 +44.2902180 -112.3546128 MULTIPOLYGON (((-112.3085 4...
306 +42.6913953 -114.2620858 MULTIPOLYGON (((-113.932 42...
309 +44.2733510 -114.2522675 MULTIPOLYGON (((-115.305 44...
457 +43.3951708 -111.6218783 MULTIPOLYGON (((-112.5201 4...
574 +45.8496440 -115.4673371 MULTIPOLYGON (((-116.4809 4...</code></pre>
</div>
</div>
<p>Here we are providing the API with a state and a year which <code>counties</code> converts into an API call to the census page. There are more complicated versions of this that we’ll explore down the road once you’re more comfortable with the spatial packages.</p>
</section>
<section id="it-comes-with-a-package" class="level4">
<h4 class="anchored" data-anchor-id="it-comes-with-a-package">It comes with a package</h4>
<p>One final option for obtaining data is that it “ships” with a package. That is, when you install the package, you get the data along with the functions. You’re not likely to use this much for your own analysis, but it can be critical when you’re trying to get help with a coding problem. Most help sites (e.g., StackOverflow, Posit Community) require a <a href="https://forum.posit.co/t/faq-how-to-do-a-minimal-reproducible-example-reprex-for-beginners/23061">minimally reproducible example</a>. Minimally reproducible examples allow others to diagnose your coding problem without you having to share your dataset and without them needing to run all of the cleanup steps. You can type <code>library(help = "datasets")</code> to get a list of a variety of example datasets. We’ll load the <code>iris</code> dataset here just so you can see how it works should you need it.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(iris)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(iris)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  Sepal.Length Sepal.Width Petal.Length Petal.Width Species
1          5.1         3.5          1.4         0.2  setosa
2          4.9         3.0          1.4         0.2  setosa
3          4.7         3.2          1.3         0.2  setosa
4          4.6         3.1          1.5         0.2  setosa
5          5.0         3.6          1.4         0.2  setosa
6          5.4         3.9          1.7         0.4  setosa</code></pre>
</div>
</div>
</section>
</section>
<section id="checking-yourself-or-at-least-r" class="level3">
<h3 class="anchored" data-anchor-id="checking-yourself-or-at-least-r">Checking yourself (or at least <code>R</code>)</h3>
<p>Ok, so you’ve got your data into <code>R</code>, the first thing you need to do is to make sure that the import was successful. Before you do anything in <code>R</code> it’s worth familiarizing yourself with the metadata (data about the data) and building your intuition for how the data <em>should</em> look. Let’s take a look at the <a href="https://www.fec.gov/data/receipts/?data_type=processed&amp;committee_id=C00331397&amp;two_year_transaction_period=2026">page</a> where the data was exported.</p>
<section id="did-you-get-it-all" class="level4">
<h4 class="anchored" data-anchor-id="did-you-get-it-all">Did you get it all?</h4>
<p>The first thing we might want to check is whether we actually got all of the date. Based on a quick look at the data it appears that there are 233 observations and columns. We can check that our data matches that by using the <code>dim</code> function (short for “dimensions”).</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(election_data_1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 233  78</code></pre>
</div>
</div>
<p>This returns the number of rows and then columns. Based on this we can see that are 233 observations (rows) and 78(!) columns. Where did all of these columns come from?? It’s not immediately obvious. You’ll notice that if you click on an individual record there’s an option to “View Image”. If you do that, you’ll see the actual tax form that is entered into the database. That form actually has 78 boxes so it would appear that we’re good on that front.</p>
</section>
<section id="is-it-meaningful" class="level4">
<h4 class="anchored" data-anchor-id="is-it-meaningful">Is it meaningful?</h4>
<p>One of the things that <code>readr::read_</code> does is to try and parse the column names in your data and assign it to a particular <a href="../resource/dataclasses.html">data types</a>. That doesn’t guarantee, however, that it got it right. We should inspect that. The first thing we might do is take a look at the column names (using the <code>colnames</code> function from base <code>R</code>).</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(election_data_1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "committee_id"                         
 [2] "committee_name"                       
 [3] "report_year"                          
 [4] "report_type"                          
 [5] "image_number"                         
 [6] "filing_form"                          
 [7] "link_id"                              
 [8] "line_number"                          
 [9] "transaction_id"                       
[10] "file_number"                          
[11] "entity_type"                          
[12] "entity_type_desc"                     
[13] "unused_contbr_id"                     
[14] "contributor_prefix"                   
[15] "contributor_name"                     
[16] "recipient_committee_type"             
[17] "recipient_committee_org_type"         
[18] "recipient_committee_designation"      
[19] "contributor_first_name"               
[20] "contributor_middle_name"              
[21] "contributor_last_name"                
[22] "contributor_suffix"                   
[23] "contributor_street_1"                 
[24] "contributor_street_2"                 
[25] "contributor_city"                     
[26] "contributor_state"                    
[27] "contributor_zip"                      
[28] "contributor_employer"                 
[29] "contributor_occupation"               
[30] "contributor_id"                       
[31] "is_individual"                        
[32] "receipt_type"                         
[33] "receipt_type_desc"                    
[34] "receipt_type_full"                    
[35] "memo_code"                            
[36] "memo_code_full"                       
[37] "memo_text"                            
[38] "contribution_receipt_date"            
[39] "contribution_receipt_amount"          
[40] "contributor_aggregate_ytd"            
[41] "candidate_id"                         
[42] "candidate_name"                       
[43] "candidate_first_name"                 
[44] "candidate_last_name"                  
[45] "candidate_middle_name"                
[46] "candidate_prefix"                     
[47] "candidate_suffix"                     
[48] "candidate_office"                     
[49] "candidate_office_full"                
[50] "candidate_office_state"               
[51] "candidate_office_state_full"          
[52] "candidate_office_district"            
[53] "conduit_committee_id"                 
[54] "conduit_committee_name"               
[55] "conduit_committee_street1"            
[56] "conduit_committee_street2"            
[57] "conduit_committee_city"               
[58] "conduit_committee_state"              
[59] "conduit_committee_zip"                
[60] "donor_committee_name"                 
[61] "national_committee_nonfederal_account"
[62] "election_type"                        
[63] "election_type_full"                   
[64] "fec_election_type_desc"               
[65] "fec_election_year"                    
[66] "two_year_transaction_period"          
[67] "amendment_indicator"                  
[68] "amendment_indicator_desc"             
[69] "schedule_type"                        
[70] "schedule_type_full"                   
[71] "increased_limit"                      
[72] "load_date"                            
[73] "sub_id"                               
[74] "original_sub_id"                      
[75] "back_reference_transaction_id"        
[76] "back_reference_schedule_name"         
[77] "pdf_url"                              
[78] "line_number_label"                    </code></pre>
</div>
</div>
<p>Nothing seems obviously wrong here. The names all seem readable and broken into distinct categories which suggests taht the delimitter worked and we didn’t end up with oddball columns.</p>
</section>
<section id="does-r-recognize-it" class="level4">
<h4 class="anchored" data-anchor-id="does-r-recognize-it">Does <code>R</code> recognize it?</h4>
<p>Now to take a look at whether <code>readr::read_</code> correctly guessed the type of data contained in each column. We can use <code>dplyr::glimpse</code> from the <code>tidyverse</code> or <code>str</code> (short for structure) from base <code>R</code> to get a quick look at the data.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(election_data_1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 233
Columns: 78
$ committee_id                          &lt;chr&gt; "C00331397", "C00331397", "C0033…
$ committee_name                        &lt;chr&gt; "SIMPSON FOR CONGRESS", "SIMPSON…
$ report_year                           &lt;dbl&gt; 2025, 2025, 2025, 2025, 2025, 20…
$ report_type                           &lt;chr&gt; "Q1", "Q1", "Q1", "Q1", "Q2", "Q…
$ image_number                          &lt;dbl&gt; 2.025041e+17, 2.025041e+17, 2.02…
$ filing_form                           &lt;chr&gt; "F3", "F3", "F3", "F3", "F3", "F…
$ link_id                               &lt;dbl&gt; 4.04082e+18, 4.04082e+18, 4.0408…
$ line_number                           &lt;chr&gt; "11AI", "11AI", "11AI", "11AI", …
$ transaction_id                        &lt;chr&gt; "AF23BB60932664D8EACA", "A7BD67B…
$ file_number                           &lt;dbl&gt; 1884461, 1884461, 1884461, 18844…
$ entity_type                           &lt;chr&gt; "IND", "ORG", "IND", "ORG", "IND…
$ entity_type_desc                      &lt;chr&gt; "INDIVIDUAL", "ORGANIZATION", "I…
$ unused_contbr_id                      &lt;chr&gt; "C00694323", NA, "C00694323", NA…
$ contributor_prefix                    &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, …
$ contributor_name                      &lt;chr&gt; "BINGER, KEVIN", "WINRED", "SLAT…
$ recipient_committee_type              &lt;chr&gt; "H", "H", "H", "H", "H", "H", "H…
$ recipient_committee_org_type          &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, …
$ recipient_committee_designation       &lt;chr&gt; "P", "P", "P", "P", "P", "P", "P…
$ contributor_first_name                &lt;chr&gt; "KEVIN", NA, "LINDSAY", NA, "MIT…
$ contributor_middle_name               &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, …
$ contributor_last_name                 &lt;chr&gt; "BINGER", NA, "SLATER", NA, "BUT…
$ contributor_suffix                    &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, …
$ contributor_street_1                  &lt;chr&gt; "12910 CREAMERY HILL DR", "PO BO…
$ contributor_street_2                  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, …
$ contributor_city                      &lt;chr&gt; "GERMANTOWN", "ARLINGTON", "WASH…
$ contributor_state                     &lt;chr&gt; "MD", "VA", "DC", "VA", "MD", "V…
$ contributor_zip                       &lt;chr&gt; "208746338", "222191891", "20002…
$ contributor_employer                  &lt;chr&gt; "CASSIDY &amp; ASSOCIATES", NA, "TRO…
$ contributor_occupation                &lt;chr&gt; "SENIOR VICE PRESIDENT", NA, "VI…
$ contributor_id                        &lt;chr&gt; "C00694323", NA, "C00694323", NA…
$ is_individual                         &lt;lgl&gt; TRUE, FALSE, TRUE, FALSE, TRUE, …
$ receipt_type                          &lt;chr&gt; "15E", NA, "15E", NA, "15E", NA,…
$ receipt_type_desc                     &lt;chr&gt; "EARMARKED CONTRIBUTION", NA, "E…
$ receipt_type_full                     &lt;chr&gt; "EARMARKED (NON-DIRECTED) THROUG…
$ memo_code                             &lt;chr&gt; NA, "X", NA, "X", NA, "X", NA, "…
$ memo_code_full                        &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, …
$ memo_text                             &lt;chr&gt; NA, "TOTAL EARMARKED THROUGH CON…
$ contribution_receipt_date             &lt;dttm&gt; 2025-02-05, 2025-02-05, 2025-02…
$ contribution_receipt_amount           &lt;dbl&gt; 250, 250, 250, 250, 250, 250, 25…
$ contributor_aggregate_ytd             &lt;dbl&gt; 250, 31900, 250, 31900, 250, 554…
$ candidate_id                          &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, …
$ candidate_name                        &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, …
$ candidate_first_name                  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, …
$ candidate_last_name                   &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, …
$ candidate_middle_name                 &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, …
$ candidate_prefix                      &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, …
$ candidate_suffix                      &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, …
$ candidate_office                      &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, …
$ candidate_office_full                 &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, …
$ candidate_office_state                &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, …
$ candidate_office_state_full           &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, …
$ candidate_office_district             &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, …
$ conduit_committee_id                  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, …
$ conduit_committee_name                &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, …
$ conduit_committee_street1             &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, …
$ conduit_committee_street2             &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, …
$ conduit_committee_city                &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, …
$ conduit_committee_state               &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, …
$ conduit_committee_zip                 &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, …
$ donor_committee_name                  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, …
$ national_committee_nonfederal_account &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, …
$ election_type                         &lt;chr&gt; "P2026", "P2026", "P2026", "P202…
$ election_type_full                    &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, …
$ fec_election_type_desc                &lt;chr&gt; "PRIMARY", "PRIMARY", "PRIMARY",…
$ fec_election_year                     &lt;dbl&gt; 2026, 2026, 2026, 2026, 2026, 20…
$ two_year_transaction_period           &lt;dbl&gt; 2026, 2026, 2026, 2026, 2026, 20…
$ amendment_indicator                   &lt;chr&gt; "A", "A", "A", "A", "A", "A", "A…
$ amendment_indicator_desc              &lt;chr&gt; "ADD", "ADD", "ADD", "ADD", "ADD…
$ schedule_type                         &lt;chr&gt; "SA", "SA", "SA", "SA", "SA", "S…
$ schedule_type_full                    &lt;chr&gt; "ITEMIZED RECEIPTS", "ITEMIZED R…
$ increased_limit                       &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, …
$ load_date                             &lt;dttm&gt; 2025-04-12 04:16:48, 2025-04-12…
$ sub_id                                &lt;dbl&gt; 4.04112e+18, 4.04112e+18, 4.0411…
$ original_sub_id                       &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, …
$ back_reference_transaction_id         &lt;chr&gt; NA, "AF23BB60932664D8EACA", NA, …
$ back_reference_schedule_name          &lt;chr&gt; NA, "SA11AI", NA, "SA11AI", NA, …
$ pdf_url                               &lt;chr&gt; "https://docquery.fec.gov/cgi-bi…
$ line_number_label                     &lt;chr&gt; "Contributions From Individuals/…</code></pre>
</div>
</div>
<p>You’ll notice that each column shows up after the <code>$</code> operator, followed by the datatype enclosed in <code>&lt;&gt;</code>, followed by the first few observations from the dataset. The nice part about <code>glimpse</code> is the colored highlighting of <code>NA</code> values which can help draw your attention to potential mistakes. For now, we’re going to focus on the data types. You’ll see <code>&lt;chr&gt;</code> for many of the columns indicating that the data in those columns is of the <code>character</code> data type, you’ll also see <code>&lt;dbl&gt;</code> indicating that the column is a <code>numeric</code> data type with a “double float” precision which refers to the number of decimal points <code>R</code> will track for a numeric value. You’ll also notice the <code>&lt;lgl&gt;</code> or <code>logical</code> datatype referring to data that is either <code>TRUE/FALSE</code> and the <code>&lt;dttm&gt;</code> for dates and times. One thing you might also notice is that for many columns the first set of entries that <code>glimpse</code> shows us are entirely <code>NA</code>. When you’re working with your own data, hopefully you’ll know whether or not <code>NA</code>s are appropriate, but here, because this is “found” data, it’s a good idea here to check a few of the images to see whether these <code>NA</code>s are expected. The other thing you’ll notice is that a variety of “ID” fields (e.g., <code>sub_id</code>, <code>file_id</code>, <code>image_id</code>) were parsed as a <code>double</code> data type. This could be a problem as id columns are often meant to denote individuals and so act as a label (i.e., <code>character</code>) rather than a number. If there are leading 0’s (i.e., 00134) <code>R</code> will drop those when converting it to a <code>numeric</code> data type. Because we’re just looking at the data, we won’t worry about it now, but I wanted to draw your attention to it.</p>
</section>
</section>
<section id="exploring-your-new-data" class="level3">
<h3 class="anchored" data-anchor-id="exploring-your-new-data">Exploring your new data</h3>
<p>Okay, you’ve got the data into <code>R</code> and you’ve checked that things look correct. Now it’s time to get a sense for what the data actually has in it. We might want some information of the distribution of numeric values, frequencies of categorical values, and maybe to look for values that fall outside of the expected range.</p>
<section id="basic-stats" class="level4">
<h4 class="anchored" data-anchor-id="basic-stats">Basic stats</h4>
<p>One quick (and ugly) way to get a sense for the range of values in your data (along with summary stats for numeric data) is to use the <code>summary</code> function.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(election_data_1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> committee_id       committee_name      report_year   report_type       
 Length:233         Length:233         Min.   :2025   Length:233        
 Class :character   Class :character   1st Qu.:2025   Class :character  
 Mode  :character   Mode  :character   Median :2025   Mode  :character  
                                       Mean   :2025                     
                                       3rd Qu.:2025                     
                                       Max.   :2025                     
  image_number       filing_form           link_id          line_number       
 Min.   :2.025e+17   Length:233         Min.   :4.041e+18   Length:233        
 1st Qu.:2.025e+17   Class :character   1st Qu.:4.041e+18   Class :character  
 Median :2.025e+17   Mode  :character   Median :4.041e+18   Mode  :character  
 Mean   :2.025e+17                      Mean   :4.053e+18                     
 3rd Qu.:2.025e+17                      3rd Qu.:4.071e+18                     
 Max.   :2.025e+17                      Max.   :4.071e+18                     
 transaction_id      file_number      entity_type        entity_type_desc  
 Length:233         Min.   :1884461   Length:233         Length:233        
 Class :character   1st Qu.:1884461   Class :character   Class :character  
 Mode  :character   Median :1884461   Mode  :character   Mode  :character  
                    Mean   :1891304                                        
                    3rd Qu.:1901069                                        
                    Max.   :1901069                                        
 unused_contbr_id   contributor_prefix contributor_name  
 Length:233         Mode:logical       Length:233        
 Class :character   NA's:233           Class :character  
 Mode  :character                      Mode  :character  
                                                         
                                                         
                                                         
 recipient_committee_type recipient_committee_org_type
 Length:233               Mode:logical                
 Class :character         NA's:233                    
 Mode  :character                                     
                                                      
                                                      
                                                      
 recipient_committee_designation contributor_first_name contributor_middle_name
 Length:233                      Length:233             Length:233             
 Class :character                Class :character       Class :character       
 Mode  :character                Mode  :character       Mode  :character       
                                                                               
                                                                               
                                                                               
 contributor_last_name contributor_suffix contributor_street_1
 Length:233            Length:233         Length:233          
 Class :character      Class :character   Class :character    
 Mode  :character      Mode  :character   Mode  :character    
                                                              
                                                              
                                                              
 contributor_street_2 contributor_city   contributor_state  contributor_zip   
 Length:233           Length:233         Length:233         Length:233        
 Class :character     Class :character   Class :character   Class :character  
 Mode  :character     Mode  :character   Mode  :character   Mode  :character  
                                                                              
                                                                              
                                                                              
 contributor_employer contributor_occupation contributor_id     is_individual  
 Length:233           Length:233             Length:233         Mode :logical  
 Class :character     Class :character       Class :character   FALSE:147      
 Mode  :character     Mode  :character       Mode  :character   TRUE :86       
                                                                               
                                                                               
                                                                               
 receipt_type       receipt_type_desc  receipt_type_full   memo_code        
 Length:233         Length:233         Length:233         Length:233        
 Class :character   Class :character   Class :character   Class :character  
 Mode  :character   Mode  :character   Mode  :character   Mode  :character  
                                                                            
                                                                            
                                                                            
 memo_code_full  memo_text         contribution_receipt_date    
 Mode:logical   Length:233         Min.   :2025-01-08 00:00:00  
 NA's:233       Class :character   1st Qu.:2025-03-10 00:00:00  
                Mode  :character   Median :2025-03-29 00:00:00  
                                   Mean   :2025-04-09 11:38:22  
                                   3rd Qu.:2025-05-23 00:00:00  
                                   Max.   :2025-06-30 00:00:00  
 contribution_receipt_amount contributor_aggregate_ytd candidate_id  
 Min.   : 250                Min.   :  250             Mode:logical  
 1st Qu.: 500                1st Qu.: 1000             NA's:233      
 Median :1000                Median : 2000                           
 Mean   :1479                Mean   :10836                           
 3rd Qu.:2000                3rd Qu.: 7500                           
 Max.   :5000                Max.   :55400                           
 candidate_name candidate_first_name candidate_last_name candidate_middle_name
 Mode:logical   Mode:logical         Mode:logical        Mode:logical         
 NA's:233       NA's:233             NA's:233            NA's:233             
                                                                              
                                                                              
                                                                              
                                                                              
 candidate_prefix candidate_suffix candidate_office candidate_office_full
 Mode:logical     Mode:logical     Mode:logical     Mode:logical         
 NA's:233         NA's:233         NA's:233         NA's:233             
                                                                         
                                                                         
                                                                         
                                                                         
 candidate_office_state candidate_office_state_full candidate_office_district
 Mode:logical           Mode:logical                Mode:logical             
 NA's:233               NA's:233                    NA's:233                 
                                                                             
                                                                             
                                                                             
                                                                             
 conduit_committee_id conduit_committee_name conduit_committee_street1
 Mode:logical         Mode:logical           Mode:logical             
 NA's:233             NA's:233               NA's:233                 
                                                                      
                                                                      
                                                                      
                                                                      
 conduit_committee_street2 conduit_committee_city conduit_committee_state
 Mode:logical              Mode:logical           Mode:logical           
 NA's:233                  NA's:233               NA's:233               
                                                                         
                                                                         
                                                                         
                                                                         
 conduit_committee_zip donor_committee_name
 Mode:logical          Length:233          
 NA's:233              Class :character    
                       Mode  :character    
                                           
                                           
                                           
 national_committee_nonfederal_account election_type      election_type_full
 Mode:logical                          Length:233         Mode:logical      
 NA's:233                              Class :character   NA's:233          
                                       Mode  :character                     
                                                                            
                                                                            
                                                                            
 fec_election_type_desc fec_election_year two_year_transaction_period
 Length:233             Min.   :2026      Min.   :2026               
 Class :character       1st Qu.:2026      1st Qu.:2026               
 Mode  :character       Median :2026      Median :2026               
                        Mean   :2026      Mean   :2026               
                        3rd Qu.:2026      3rd Qu.:2026               
                        Max.   :2026      Max.   :2026               
 amendment_indicator amendment_indicator_desc schedule_type     
 Length:233          Length:233               Length:233        
 Class :character    Class :character         Class :character  
 Mode  :character    Mode  :character         Mode  :character  
                                                                
                                                                
                                                                
 schedule_type_full increased_limit   load_date                  
 Length:233         Mode:logical    Min.   :2025-04-12 04:16:48  
 Class :character   NA's:233        1st Qu.:2025-04-12 04:16:48  
 Mode  :character                   Median :2025-04-12 04:16:48  
                                    Mean   :2025-05-21 17:29:56  
                                    3rd Qu.:2025-07-17 04:06:49  
                                    Max.   :2025-07-17 04:06:49  
     sub_id          original_sub_id back_reference_transaction_id
 Min.   :4.041e+18   Mode:logical    Length:233                   
 1st Qu.:4.041e+18   NA's:233        Class :character             
 Median :4.041e+18                   Mode  :character             
 Mean   :4.054e+18                                                
 3rd Qu.:4.072e+18                                                
 Max.   :4.072e+18                                                
 back_reference_schedule_name   pdf_url          line_number_label 
 Length:233                   Length:233         Length:233        
 Class :character             Class :character   Class :character  
 Mode  :character             Mode  :character   Mode  :character  
                                                                   
                                                                   
                                                                   </code></pre>
</div>
</div>
<p>We can look at the <code>contribution_receipt_amount</code> and the <code>contributor_aggregate_ytd</code> columns as those are the only true <code>numeric</code> values. We can see that the <code>Max</code> contribution amount for any single observation is 5000 whereas the <code>Max</code> aggregate amount is 55400. Looking at the aggregate value a bit more you’ll see that the <code>Mean</code> is actually larger than the 3rd quartile values which suggests that there are a handful of very larger contributors relative to the rest. If you were planning to analyze this data, you’ll have to think about how to deal with those observations carefully.</p>
</section>
<section id="oddballs" class="level4">
<h4 class="anchored" data-anchor-id="oddballs">Oddballs</h4>
<p>The other thing that <code>summary</code> can help with is identifying places where data is incorrect. For example, this should only be for this FY so the fact that all of the <code>report_year</code>values are the same is not surprising. Another thing you might now is that individual contributions are capped at 5000, which we know to be true from the previous check. Finally, <code>summary</code> returns the number of <code>NA</code>s in each column.</p>
</section>
<section id="data-frequency" class="level4">
<h4 class="anchored" data-anchor-id="data-frequency">Data frequency</h4>
<p>One last thing we might check before we decide what we want to do with this data is to look at the frequency of different categories. We can use <code>table</code>to look at a few of those things. We might take a look at how many of these contributions are from individuals.</p>
<div class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(election_data_1<span class="sc">$</span>is_individual)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
FALSE  TRUE 
  147    86 </code></pre>
</div>
</div>
<p>Based on this we can see that the number of contributions by groups outnumbers individuals by almost 2:1. What other categorical variables might you look at?</p>
<p>That’s all for now. We’ll learn more complicated ways to evaluate and modify data in the coming weeks, but this is a standard “gut-check” anytime you’re bringing data into <code>R</code>.</p>


<!-- -->

</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
    const viewSource = window.document.getElementById('quarto-view-source') ||
                       window.document.getElementById('quarto-code-tools-source');
    if (viewSource) {
      const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
      viewSource.addEventListener("click", function(e) {
        if (sourceUrl) {
          // rstudio viewer pane
          if (/\bcapabilities=\b/.test(window.location)) {
            window.open(sourceUrl);
          } else {
            window.location.href = sourceUrl;
          }
        } else {
          const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
          modal.show();
        }
        return false;
      });
    }
    function toggleCodeHandler(show) {
      return function(e) {
        const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
        for (let i=0; i<detailsSrc.length; i++) {
          const details = detailsSrc[i].parentElement;
          if (show) {
            details.open = true;
          } else {
            details.removeAttribute("open");
          }
        }
        const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
        const fromCls = show ? "hidden" : "unhidden";
        const toCls = show ? "unhidden" : "hidden";
        for (let i=0; i<cellCodeDivs.length; i++) {
          const codeDiv = cellCodeDivs[i];
          if (codeDiv.classList.contains(fromCls)) {
            codeDiv.classList.remove(fromCls);
            codeDiv.classList.add(toCls);
          } 
        }
        return false;
      }
    }
    const hideAllCode = window.document.getElementById("quarto-hide-all-code");
    if (hideAllCode) {
      hideAllCode.addEventListener("click", toggleCodeHandler(false));
    }
    const showAllCode = window.document.getElementById("quarto-show-all-code");
    if (showAllCode) {
      showAllCode.addEventListener("click", toggleCodeHandler(true));
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/isdrfall25\.classes\.spaseslab\.com");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb31" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Introducing your Data"</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="fu">## Objectives</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>Practice getting data into <span class="in">`R`</span> from different sources</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span>Learn to identify common import errors</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a><span class="ss">3. </span>Generate summaries of imported data</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a><span class="fu">## A Note about Project Management</span></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>You'll notice that every repository we use for assignments in this class has a set folder structure (with <span class="in">`data`</span>, <span class="in">`docs`</span>, etc.). This helps ensure that once anyone has cloned the repository all of the paths to files, code, etc will be the same regardless of who's running the code. For this lesson, we'll be working within the <span class="in">`data`</span> folder. You'll notice that within the <span class="in">`data`</span> folder, there is a subfolder for <span class="in">`original`</span> and one for <span class="in">`processed`</span>. **The `original` folder is reserved for unmodified data.** This could be your initial spreadsheet of data, the version of a dataset that you downloaded for an analysis, or any other file that you will eventually modify for your analysis. If you make any changes (rename variables, filter observations, modify values), those changes should be saved to an object in the <span class="in">`processed`</span> folder</span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>::: {.callout-warning}</span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a>For your analysis to be reproducible, any filtering, cleaning, or modification of that original data should be documented in your scripts or Quarto document and the outputs stored in the <span class="in">`processed`</span> folder.</span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a><span class="fu">### Let's load some packages</span></span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a>Before you get too far into this, it's a good idea to load all of your packages.</span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tigris)</span>
<span id="cb31-29"><a href="#cb31-29" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(sf)</span>
<span id="cb31-30"><a href="#cb31-30" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-31"><a href="#cb31-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-32"><a href="#cb31-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-33"><a href="#cb31-33" aria-hidden="true" tabindex="-1"></a><span class="fu">### Common Sources of Data</span></span>
<span id="cb31-34"><a href="#cb31-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-35"><a href="#cb31-35" aria-hidden="true" tabindex="-1"></a>There are, in general, three types of data that you will encounter that meet our <span class="in">`original`</span> data criteria. Data you've collected, data you've downloaded from somehere else, or data you've accessed via a package.</span>
<span id="cb31-36"><a href="#cb31-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-37"><a href="#cb31-37" aria-hidden="true" tabindex="-1"></a><span class="fu">#### It's yours!</span></span>
<span id="cb31-38"><a href="#cb31-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-39"><a href="#cb31-39" aria-hidden="true" tabindex="-1"></a>So far, this is the type of data that most students bring into class. It's usually some sort of spreadsheet that contains all of that hard-earned field data. Although there are <span class="in">`R`</span> packages for dealing with Microsoft Excel spreadsheets, we won't focus on those for two reasons: 1) Excel is a proprietary software and so may not be available to all users and 2) Excel makes a lot of formatting choices for you that may not actually be helpful in your analysis.</span>
<span id="cb31-40"><a href="#cb31-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-41"><a href="#cb31-41" aria-hidden="true" tabindex="-1"></a>Instead, we'll focus on a more general idea, the "delimited" text file. A delimited text file is flat (i.e., there's only one "sheet") and uses a consistent character (like a <span class="in">`,`</span> or a <span class="in">`tab`</span>) to denote when column breaks should occur. Delimited text files can be created and read in a variety of free software making them more accessible to others. It's also a fairly trivial exercise to save an Excel spreadsheet into a <span class="in">`.csv`</span>.</span>
<span id="cb31-42"><a href="#cb31-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-43"><a href="#cb31-43" aria-hidden="true" tabindex="-1"></a>There are a variety of functions in base <span class="in">`R`</span> that will read delimited files (<span class="in">`read.csv`</span>, <span class="in">`read.table`</span>, and <span class="in">`read.delim`</span> are just a few examples), but we're going to use the <span class="in">`readr`</span> package from the <span class="in">`tidyverse`</span> because it will help you get used to some of the <span class="in">`tidyverse`</span> conventions and because it automates more of the data import process. </span>
<span id="cb31-44"><a href="#cb31-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-45"><a href="#cb31-45" aria-hidden="true" tabindex="-1"></a>We'll talk more about the <span class="in">`tidyverse`</span> next week, but for the time being it's worth knowing that the general structure of <span class="in">`tidyverse`</span> functions is to combine a <span class="in">`verb`</span> with and <span class="in">`object`</span>. So in order to read a delimited file, we might use the <span class="in">`read_delim()`</span> function where <span class="in">`read`</span> is the <span class="in">`verb`</span> and <span class="in">`delim`</span> is the <span class="in">`object`</span></span>
<span id="cb31-46"><a href="#cb31-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-47"><a href="#cb31-47" aria-hidden="true" tabindex="-1"></a>For this example, I've downloaded a file from the <span class="co">[</span><span class="ot">Federal Elections Committee</span><span class="co">](www.fec.gov)</span> depicting the campaign contributions to one of our Congressman in the 2025-2026 fiscal year. It's located in your <span class="in">`data/original`</span> folder. You can read it into your environment using <span class="in">`read_delim`</span> and specifying a <span class="in">`,`</span> for the <span class="in">`delim`</span> argument (if you have tab delimited <span class="in">`.txt`</span> file you would use <span class="in">`\\t`</span>). Because we'll want to look at this data later, I'm assigning it to an object called <span class="in">`election_data`</span> using the assignment operator <span class="in">`&lt;-`</span>. If you look at the help file for <span class="in">`read_delim`</span> (by typing <span class="in">`?read_delim`</span>), you'll see that there are a variety of other options (like <span class="in">`read_csv`</span> or <span class="in">`read_tsv`</span>) that allow you to eliminate specifying the <span class="in">`delim`</span> argument. I'll demonstrate that here, too.</span>
<span id="cb31-48"><a href="#cb31-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-51"><a href="#cb31-51" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-52"><a href="#cb31-52" aria-hidden="true" tabindex="-1"></a>election_data_1 <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(<span class="st">"data/original/fec_reciepts.csv"</span>, </span>
<span id="cb31-53"><a href="#cb31-53" aria-hidden="true" tabindex="-1"></a>                            <span class="at">delim =</span> <span class="st">","</span>)</span>
<span id="cb31-54"><a href="#cb31-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-55"><a href="#cb31-55" aria-hidden="true" tabindex="-1"></a>election_data_2 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/original/fec_reciepts.csv"</span>)</span>
<span id="cb31-56"><a href="#cb31-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-57"><a href="#cb31-57" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-58"><a href="#cb31-58" aria-hidden="true" tabindex="-1"></a>**A Note About Parsing**</span>
<span id="cb31-59"><a href="#cb31-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-60"><a href="#cb31-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-61"><a href="#cb31-61" aria-hidden="true" tabindex="-1"></a>You'll notice that both <span class="in">`read_`</span> functions return a bit of output telling you the names and <span class="co">[</span><span class="ot">data types</span><span class="co">](/resource/dataclasses.html)</span> of each column in the dataset. This is one of the features of using <span class="in">`readr::read_`</span> - it attempts to guess what datatype each column should be based on the value you give to the <span class="in">`guess_max`</span> argument. You can see from the helpfile that the default value for guess_max is <span class="in">`min(1000, n_max)`</span> meaning that it will look at the first <span class="in">`n_max`</span> or 1000 rows, whichever is smaller. This can be helpful for large datasets, but it can also introduce some challenges as the different versions of <span class="in">`read_`</span> assign column types a little differently. You can see this by running:</span>
<span id="cb31-62"><a href="#cb31-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-65"><a href="#cb31-65" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-66"><a href="#cb31-66" aria-hidden="true" tabindex="-1"></a><span class="fu">identical</span>(election_data_1, election_data_2)</span>
<span id="cb31-67"><a href="#cb31-67" aria-hidden="true" tabindex="-1"></a><span class="fu">all.equal</span>(election_data_1, election_data_2)</span>
<span id="cb31-68"><a href="#cb31-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-69"><a href="#cb31-69" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-70"><a href="#cb31-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-71"><a href="#cb31-71" aria-hidden="true" tabindex="-1"></a>Despite the fact that the two objects were created from exactly the same file, <span class="in">`identical`</span> returns <span class="in">`FALSE`</span> while <span class="in">`all.equal `</span> returns <span class="in">`TRUE`</span>. This is an indication that while the data is exactly the same between both objects, there is something a little different about how <span class="in">`R`</span> is storing the objects (<span class="in">`identical`</span> is very strict). We don't need to worry about that now, but I'm pointing it out as you may run into places where this causes errors that are difficult to interpret. For now, we'll just be excited that the data is in <span class="in">`R`</span>!</span>
<span id="cb31-72"><a href="#cb31-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-73"><a href="#cb31-73" aria-hidden="true" tabindex="-1"></a><span class="fu">#### You download it</span></span>
<span id="cb31-74"><a href="#cb31-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-75"><a href="#cb31-75" aria-hidden="true" tabindex="-1"></a>Occasionally, you'll find data that is directly downloadable from a webpage (meaning the webaddress points directly to a <span class="in">`.csv`</span> or <span class="in">`.txt`</span> file). When that's the case, you can still use the <span class="in">`read_`</span> functions to download and assign the data to an object. Like this:</span>
<span id="cb31-76"><a href="#cb31-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-79"><a href="#cb31-79" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-80"><a href="#cb31-80" aria-hidden="true" tabindex="-1"></a>election_data_web <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://raw.githubusercontent.com/BSU-Spatial-Data-In-R-Fall2025/inclass-04/refs/heads/main/data/original/fec_reciepts.csv"</span>)</span>
<span id="cb31-81"><a href="#cb31-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-82"><a href="#cb31-82" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-83"><a href="#cb31-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-84"><a href="#cb31-84" aria-hidden="true" tabindex="-1"></a>::: {.callout-note}</span>
<span id="cb31-85"><a href="#cb31-85" aria-hidden="true" tabindex="-1"></a>When you call the webpage inside of <span class="in">`read_`</span> the data is not automatically saved. If you've assigned it to an object (like <span class="in">`election_data_web`</span>) it will be stored there until you decide to save it (which we'll do next week). If you haven't assigned it to an object, the data will just be printed to the screen.</span>
<span id="cb31-86"><a href="#cb31-86" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb31-87"><a href="#cb31-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-88"><a href="#cb31-88" aria-hidden="true" tabindex="-1"></a>There are more complicated workflows for <span class="in">`.zip`</span> files (using <span class="in">`download.file`</span>) or Google Drive files (using the <span class="in">`googledrive`</span> package) which we'll introduce later in the course. Those approaches add a bit more syntax on the front-end to get the file into your <span class="in">`data/original`</span> folder, but after that the <span class="in">`read_`</span> step is the same.</span>
<span id="cb31-89"><a href="#cb31-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-90"><a href="#cb31-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-91"><a href="#cb31-91" aria-hidden="true" tabindex="-1"></a>The more common way of downloading data from the web is via Application Programming Interfaces (APIs). Although there are lots of APIs in the world, the typical application for getting data is a web-service that expects a particular set of inputs and then returns (possibly for download) a set of outputs matching your query. For example, the US Census has an API that allows you to access all of the Decennial Census and American Community Survey data by providing the state, county, year, and dataset that your are interested in. There are a lot of <span class="in">`R`</span> packages designed to make these API calls easier. For example, the <span class="in">`tidycensus`</span> package in <span class="in">`R`</span> allows easy downloading of Census data, the <span class="in">`FedData`</span> package allows you to download a variety of federally created spatial datasets, and the <span class="in">`elevatr`</span> package allows easy download of global elevation datasets. We'll explore these more in the future, but for now, we'll use a simple example with the <span class="in">`tigris`</span> package. The <span class="in">`tigris`</span> package is a means of accessing the US TIGER (Topologically Integrated Geographic and Referencing System) files. The TIGER datsets contains US roads, state and county boundaries, and a variety of other data related to the US Census. Here's a simple bit of code to download Idaho county boundaries.</span>
<span id="cb31-92"><a href="#cb31-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-95"><a href="#cb31-95" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-96"><a href="#cb31-96" aria-hidden="true" tabindex="-1"></a>id_counties <span class="ot">&lt;-</span> <span class="fu">counties</span>(<span class="at">state=</span><span class="st">"ID"</span>, <span class="at">year =</span> <span class="dv">2024</span>, <span class="at">progress_bar =</span> <span class="cn">FALSE</span>)</span>
<span id="cb31-97"><a href="#cb31-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-98"><a href="#cb31-98" aria-hidden="true" tabindex="-1"></a>id_counties</span>
<span id="cb31-99"><a href="#cb31-99" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-100"><a href="#cb31-100" aria-hidden="true" tabindex="-1"></a>Here we are providing the API with a state and a year which <span class="in">`counties`</span> converts into an API call to the census page. There are more complicated versions of this that we'll explore down the road once you're more comfortable with the spatial packages.</span>
<span id="cb31-101"><a href="#cb31-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-102"><a href="#cb31-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-103"><a href="#cb31-103" aria-hidden="true" tabindex="-1"></a><span class="fu">#### It comes with a package</span></span>
<span id="cb31-104"><a href="#cb31-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-105"><a href="#cb31-105" aria-hidden="true" tabindex="-1"></a>One final option for obtaining data is that it "ships" with a package. That is, when you install the package, you get the data along with the functions. You're not likely to use this much for your own analysis, but it can be critical when you're trying to get help with a coding problem. Most help sites (e.g., StackOverflow, Posit Community) require a <span class="co">[</span><span class="ot">minimally reproducible example</span><span class="co">](https://forum.posit.co/t/faq-how-to-do-a-minimal-reproducible-example-reprex-for-beginners/23061)</span>. Minimally reproducible examples allow others to diagnose your coding problem without you having to share your dataset and without them needing to run all of the cleanup steps.  You can type <span class="in">`library(help = "datasets")`</span> to get a list of a variety of example datasets. We'll load the <span class="in">`iris`</span> dataset here just so you can see how it works should you need it.</span>
<span id="cb31-106"><a href="#cb31-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-109"><a href="#cb31-109" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-110"><a href="#cb31-110" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(iris)</span>
<span id="cb31-111"><a href="#cb31-111" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(iris)</span>
<span id="cb31-112"><a href="#cb31-112" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-113"><a href="#cb31-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-114"><a href="#cb31-114" aria-hidden="true" tabindex="-1"></a><span class="fu">### Checking yourself (or at least `R`)</span></span>
<span id="cb31-115"><a href="#cb31-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-116"><a href="#cb31-116" aria-hidden="true" tabindex="-1"></a>Ok, so you've got your data into <span class="in">`R`</span>, the first thing you need to do is to make sure that the import was successful. Before you do anything in <span class="in">`R`</span> it's worth familiarizing yourself with the metadata (data about the data) and building your intuition for how the data _should_ look. Let's take a look at the <span class="co">[</span><span class="ot">page</span><span class="co">](https://www.fec.gov/data/receipts/?data_type=processed&amp;committee_id=C00331397&amp;two_year_transaction_period=2026)</span> where the data was exported. </span>
<span id="cb31-117"><a href="#cb31-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-118"><a href="#cb31-118" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Did you get it all?</span></span>
<span id="cb31-119"><a href="#cb31-119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-120"><a href="#cb31-120" aria-hidden="true" tabindex="-1"></a>The first thing we might want to check is whether we actually got all of the date. Based on a quick look at the data it appears that there are 233 observations and columns. We can check that our data matches that by using the <span class="in">`dim`</span> function (short for "dimensions").</span>
<span id="cb31-121"><a href="#cb31-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-124"><a href="#cb31-124" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-125"><a href="#cb31-125" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(election_data_1)</span>
<span id="cb31-126"><a href="#cb31-126" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-127"><a href="#cb31-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-128"><a href="#cb31-128" aria-hidden="true" tabindex="-1"></a>This returns the number of rows and then columns. Based on this we can see that are 233 observations (rows) and 78(!) columns. Where did all of these columns come from??  It's not immediately obvious. You'll notice that if you click on an individual record there's an option to "View Image". If you do that, you'll see the actual tax form that is entered into the database. That form actually has 78 boxes so it would appear that we're good on that front.</span>
<span id="cb31-129"><a href="#cb31-129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-130"><a href="#cb31-130" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Is it meaningful?</span></span>
<span id="cb31-131"><a href="#cb31-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-132"><a href="#cb31-132" aria-hidden="true" tabindex="-1"></a>One of the things that <span class="in">`readr::read_`</span> does is to try and parse the column names in your data and assign it to a particular <span class="co">[</span><span class="ot">data types</span><span class="co">](/resource/dataclasses.html)</span>. That doesn't guarantee, however, that it got it right. We should inspect that. The first thing we might do is take a look at the column names (using the <span class="in">`colnames`</span> function from base <span class="in">`R`</span>). </span>
<span id="cb31-133"><a href="#cb31-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-136"><a href="#cb31-136" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-137"><a href="#cb31-137" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(election_data_1)</span>
<span id="cb31-138"><a href="#cb31-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-139"><a href="#cb31-139" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-140"><a href="#cb31-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-141"><a href="#cb31-141" aria-hidden="true" tabindex="-1"></a>Nothing seems obviously wrong here. The names all seem readable and broken into distinct categories which suggests taht the delimitter worked and we didn't end up with oddball columns.</span>
<span id="cb31-142"><a href="#cb31-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-143"><a href="#cb31-143" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Does `R` recognize it?</span></span>
<span id="cb31-144"><a href="#cb31-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-145"><a href="#cb31-145" aria-hidden="true" tabindex="-1"></a>Now to take a look at whether <span class="in">`readr::read_`</span> correctly guessed the type of data contained in each column. We can use <span class="in">`dplyr::glimpse`</span> from the <span class="in">`tidyverse`</span> or <span class="in">`str`</span> (short for structure) from base <span class="in">`R`</span> to get a quick look at the data.</span>
<span id="cb31-146"><a href="#cb31-146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-149"><a href="#cb31-149" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-150"><a href="#cb31-150" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(election_data_1)</span>
<span id="cb31-151"><a href="#cb31-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-152"><a href="#cb31-152" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-153"><a href="#cb31-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-154"><a href="#cb31-154" aria-hidden="true" tabindex="-1"></a>You'll notice that each column shows up after the <span class="in">`$`</span> operator, followed by the datatype enclosed in <span class="in">`&lt;&gt;`</span>, followed by the first few observations from the dataset. The nice part about <span class="in">`glimpse`</span> is the colored highlighting of <span class="in">`NA`</span> values which can help draw your attention to potential mistakes. For now, we're going to focus on the data types. You'll see <span class="in">`&lt;chr&gt;`</span> for many of the columns indicating that the data in those columns is of the <span class="in">`character`</span> data type, you'll also see <span class="in">`&lt;dbl&gt;`</span> indicating that the column is a <span class="in">`numeric`</span> data type with a "double float" precision which refers to the number of decimal points <span class="in">`R`</span> will track for a numeric value. You'll also notice the <span class="in">`&lt;lgl&gt;`</span> or <span class="in">`logical`</span> datatype referring to data that is either <span class="in">`TRUE/FALSE`</span> and the <span class="in">`&lt;dttm&gt;`</span> for dates and times. One thing you might also notice is that for many columns the first set of entries that <span class="in">`glimpse`</span> shows us are entirely <span class="in">`NA`</span>.   When you're working with your own data, hopefully you'll know whether or not <span class="in">`NA`</span>s are appropriate, but here, because this is "found" data, it's a good idea here to check a few of the images to see whether these <span class="in">`NA`</span>s are expected. The other thing you'll notice is that a variety of "ID" fields (e.g., <span class="in">`sub_id`</span>, <span class="in">`file_id`</span>, <span class="in">`image_id`</span>) were parsed as a <span class="in">`double`</span> data type. This could be a problem as id columns are often meant to denote individuals and so act as a label (i.e., <span class="in">`character`</span>) rather than a number. If there are leading 0's (i.e., 00134) <span class="in">`R`</span> will drop those when converting it to a <span class="in">`numeric`</span> data type. Because we're just looking at the data, we won't worry about it now, but I wanted to draw your attention to it.</span>
<span id="cb31-155"><a href="#cb31-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-156"><a href="#cb31-156" aria-hidden="true" tabindex="-1"></a><span class="fu">### Exploring your new data</span></span>
<span id="cb31-157"><a href="#cb31-157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-158"><a href="#cb31-158" aria-hidden="true" tabindex="-1"></a>Okay, you've got the data into <span class="in">`R`</span> and you've checked that things look correct. Now it's time to get a sense for what the data actually has in it. We might want some information of the distribution of numeric values, frequencies of categorical values, and maybe to look for values that fall outside of the expected range.</span>
<span id="cb31-159"><a href="#cb31-159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-160"><a href="#cb31-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-161"><a href="#cb31-161" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Basic stats</span></span>
<span id="cb31-162"><a href="#cb31-162" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-163"><a href="#cb31-163" aria-hidden="true" tabindex="-1"></a>One quick (and ugly) way to get a sense for the range of values in your data (along with summary stats for numeric data) is to use the <span class="in">`summary`</span> function.</span>
<span id="cb31-164"><a href="#cb31-164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-167"><a href="#cb31-167" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-168"><a href="#cb31-168" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(election_data_1)</span>
<span id="cb31-169"><a href="#cb31-169" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-170"><a href="#cb31-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-171"><a href="#cb31-171" aria-hidden="true" tabindex="-1"></a>We can look at the <span class="in">`contribution_receipt_amount`</span> and the <span class="in">`contributor_aggregate_ytd`</span> columns as those are the only true <span class="in">`numeric`</span> values. We can see that the <span class="in">`Max`</span> contribution amount for any single observation is 5000 whereas the <span class="in">`Max`</span> aggregate amount is 55400. Looking at the aggregate value a bit more you'll see that the <span class="in">`Mean`</span> is actually larger than the 3rd quartile values which suggests that there are a handful of very larger contributors relative to the rest. If you were planning to analyze this data, you'll have to think about how to deal with those observations carefully.</span>
<span id="cb31-172"><a href="#cb31-172" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-173"><a href="#cb31-173" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Oddballs</span></span>
<span id="cb31-174"><a href="#cb31-174" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-175"><a href="#cb31-175" aria-hidden="true" tabindex="-1"></a>The other thing that <span class="in">`summary`</span> can help with is identifying places where data is incorrect. For example, this should only be for this FY so the fact that all of the <span class="in">`report_year`</span>values are the same is not surprising. Another thing you might now is that individual contributions are capped at 5000, which we know to be true from the previous check. Finally, <span class="in">`summary`</span> returns the number of <span class="in">`NA`</span>s in each column.</span>
<span id="cb31-176"><a href="#cb31-176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-177"><a href="#cb31-177" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Data frequency</span></span>
<span id="cb31-178"><a href="#cb31-178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-179"><a href="#cb31-179" aria-hidden="true" tabindex="-1"></a>One last thing we might check before we decide what we want to do with this data is to look at the frequency of different categories. We can use <span class="in">`table`</span>to look at a few of those things. We might take a look at how many of these contributions are from individuals. </span>
<span id="cb31-180"><a href="#cb31-180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-183"><a href="#cb31-183" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-184"><a href="#cb31-184" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(election_data_1<span class="sc">$</span>is_individual)</span>
<span id="cb31-185"><a href="#cb31-185" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-186"><a href="#cb31-186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-187"><a href="#cb31-187" aria-hidden="true" tabindex="-1"></a>Based on this we can see that the number of contributions by groups outnumbers individuals by almost 2:1. What other categorical variables might you look at?</span>
<span id="cb31-188"><a href="#cb31-188" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-189"><a href="#cb31-189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-190"><a href="#cb31-190" aria-hidden="true" tabindex="-1"></a>That's all for now. We'll learn more complicated ways to evaluate and modify data in the coming weeks, but this is a standard "gut-check" anytime you're bringing data into <span class="in">`R`</span>. </span>
<span id="cb31-191"><a href="#cb31-191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-192"><a href="#cb31-192" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-193"><a href="#cb31-193" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-194"><a href="#cb31-194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-195"><a href="#cb31-195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-196"><a href="#cb31-196" aria-hidden="true" tabindex="-1"></a></span>
</code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Content <i class="fa-brands fa-creative-commons" aria-hidden="true"></i> 2025 by <a href="https://www.spaseslab.com">Matt Williamson</a> <br> All content licensed under a <i class="fa-brands fa-creative-commons" aria-hidden="true"></i> <i class="fa-brands fa-creative-commons-by" aria-hidden="true"></i> <i class="fa-brands fa-creative-commons-nc" aria-hidden="true"></i> <a href="https://creativecommons.org/licenses/by-nc/4.0/">Creative Commons Attribution-NonCommercial 4.0 International license (CC BY-NC 4.0)</a></p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>Made with <i class="fa-brands fa-r-project" aria-hidden="true"></i> and <a href="https://quarto.org/">Quarto</a><br> <a href="https://www.github.com/mattwilliamson/isdrfall25">View the source at <i class="fa-brands fa-github" aria-hidden="true"></i> GitHub</a> Based on websites designed by <a href="https://github.com/andrewheiss/evalf22.classes.andrewheiss.com">Andrew Heiss</a></p>
</div>
  </div>
</footer>




</body></html>